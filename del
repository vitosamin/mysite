mode: rule
ipv6: false
log-level: error
allow-lan: false
tproxy-port: 7894
unified-delay: true
tcp-concurrent: true
external-controller: 0.0.0.0:9090
external-ui: ./ui
external-ui-url: "https://github.com/Zephyruso/zashboard/releases/latest/download/dist-cdn-fonts.zip"


profile:
  store-selected: true
  store-fake-ip: true
  tracing: false
  force-dns-mapping: true

routing-mark: 2

sniffer:
  enable: true
  force-dns-mapping: true
  parse-pure-ip: true
  sniff:
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true
    TLS:
      ports: [443, 8443]
  skip-domain:
    - "Mijia Cloud"
    - '+.lan'
    - '+.local'
    - '+.push.apple.com'
    - '+.apple.com'

proxies:
  - name: ðŸ‡³ðŸ‡± Vless
    type: vless
    server: 91.132.224.49
    port: 443
    uuid: fd4c9a02-e070-459d-b421-7d12b073fc89
    network: tcp
    tls: true
    udp: true
    flow: xtls-rprx-vision
    servername: dl.google.com
    reality-opts:
      public-key: qzhKFzTH3-YAgsI4BL1xofu21u0PD7tuPmCy6WtbRiw
      short-id: f3bdb43a98e63d74
      spider-x: /
    client-fingerprint: chrome

  - name: ðŸ‡¸ðŸ‡ª Vless
    type: vless
    server: 193.233.114.195
    port: 443
    uuid: 8fcc0cde-b747-450b-8775-8b72bd6636bd
    network: tcp
    tls: true
    udp: true
    flow: xtls-rprx-vision
    servername: www.dl.google.com
    reality-opts:
      public-key: mldU4m4N4qwn_-rDGTAYsuSv9MxARRPWzsRXan9PPDE
      short-id: bcd5c4
      spider-x: /
    client-fingerprint: chrome


  - name: ðŸ‡©ðŸ‡ª Vless
    type: vless
    server: 89.107.10.63
    port: 443
    uuid: 526a2bc2-4573-4316-8154-0dde131e4bcc
    network: tcp
    tls: true
    udp: true
    flow: xtls-rprx-vision
    servername: www.dl.google.com
    reality-opts:
      public-key: hEpLZyKcyElNunsCFxB4CVN-pLcmyBeKZIVndJsUpG4
      short-id: 2f93e3
      spider-x: /
    client-fingerprint: chrome
    
    
  - name: ðŸš€ Vless
    type: vless
    server: 91.132.224.50
    port: 443
    uuid: ccb6bbdf-3fd3-47e3-9d8d-6a2b76f2260a
    network: tcp
    tls: true
    udp: true
    flow: xtls-rprx-vision
    servername: dl.google.com
    reality-opts:
      public-key: DHJVLtqNnUtwjr2-xI_fezJWurUtgFSVKt4Csm-gWWs
      short-id: b6a8e1f80412b2b6
      spider-x: /
    client-fingerprint: chrome



proxy-groups:
  - name: VlessServers
    type: fallback
    icon: https://vpnkeys.org/_ipx/_/img/applications/clash.webp
    proxies:
      - ðŸ‡³ðŸ‡± Vless
      - ðŸ‡¸ðŸ‡ª Vless
      - ðŸ‡©ðŸ‡ª Vless
      - ðŸš€ Vless
    url: 'http://cp.cloudflare.com/generate_204'
    interval: 300

rule-providers:
  ru-blocked:
    behavior: domain
    type: http
    format: text
    url: 'https://cdn.jsdelivr.net/gh/shvchk/unblock-net/lists/clash/ru-blocked'
    interval: 86400
    path: ./ruleset/ru-blocked.yaml


  lock:
    behavior: classical
    type: http
    url: "https://raw.githubusercontent.com/vitosamin/mysite/refs/heads/main/clash.lst"
    interval: 86400
    path: ./ruleset/clash.lst


  lockdirect:
    behavior: classical
    type: http
    url: "https://raw.githubusercontent.com/vitosamin/mysite/refs/heads/main/clashdirect.lst"
    interval: 86400
    path: ./ruleset/clashdirect.lst


    
  localdirect:
    type: file
    behavior: domain
    format: text
    path: ./lst/localdirect.txt

  local:
    type: file
    behavior: domain
    format: text
    path: ./lst/local.txt


  twitter:
    behavior: classical
    type: http
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Twitter/Twitter.yaml"
    interval: 86400
    path: ./ruleset/twitter.yaml

    

  instagram:
    behavior: classical
    type: http
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Instagram/Instagram.yaml"
    interval: 86400
    path: ./ruleset/instagram.yaml


  facebook:
    behavior: classical
    type: http
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Facebook/Facebook.yaml"
    interval: 86400
    path: ./ruleset/facebook.yaml

    

  youtube:
    behavior: classical
    type: http
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.yaml"
    interval: 86400
    path: ./ruleset/youtube.yaml

    

  discord-domain:
    behavior: classical
    type: http
    url: "https://raw.githubusercontent.com/fildunsky/clash_discord/refs/heads/main/discord-domain.yaml"
    interval: 86400
    path: ./ruleset/discord-domain.yaml

    

  discord-ip:
    behavior: classical
    type: http
    url: "https://raw.githubusercontent.com/fildunsky/clash_discord/refs/heads/main/discord-ip.yaml"
    interval: 86400
    path: ./ruleset/discord-ip.yaml

    

  whatsapp:
    behavior: classical
    type: http
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Whatsapp/Whatsapp.yaml"
    interval: 86400
    path: ./ruleset/whatsapp.yaml

    

  notion:
    behavior: classical
    type: http
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Notion/Notion.yaml"
    interval: 86400
    path: ./ruleset/notion.yaml

    

  gemini:
    behavior: classical
    type: http
    format: yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Gemini/Gemini.yaml"
    interval: 86400
    path: ./ruleset/gemini.yaml

    

  openai:
    behavior: classical
    type: http
    format: yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/OpenAI/OpenAI.yaml"
    interval: 86400
    path: ./ruleset/openai.yaml

    

  cloudflare:
    behavior: ipcidr
    type: http
    format: text
    url: "https://raw.githubusercontent.com/itdoginfo/allow-domains/refs/heads/main/Subnets/IPv4/cloudflare.lst"
    interval: 86400
    path: ./ruleset/cloudflare.lst

    

  telegram:
    behavior: classical
    type: http
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Telegram/Telegram.yaml"
    interval: 86400
    path: ./ruleset/telegram.yaml

    

  microsoft:
    behavior: classical
    type: http
    format: yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Microsoft/Microsoft.yaml"
    interval: 86400
    path: ./ruleset/microsoft.yaml

    

  github:
    behavior: classical
    type: http
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Loon/GitHub/GitHub.list"
    interval: 86400
    path: ./ruleset/github.list






rules:
  - DOMAIN-SUFFIX,team.ga,DIRECT
  - DOMAIN-SUFFIX,tv.team,DIRECT
  - DOMAIN-SUFFIX,3gppnetwork.org,DIRECT
  - DOMAIN-SUFFIX,mts.ru,DIRECT
  - DOMAIN-SUFFIX,megafon.ru,DIRECT
  - DOMAIN-SUFFIX,play.google.com,DIRECT
  - DOMAIN-SUFFIX,android.com,DIRECT
  - DOMAIN-SUFFIX,google-analytics.com,DIRECT
  - DOMAIN-SUFFIX,googleusercontent.com,DIRECT
  - DOMAIN-SUFFIX,gstatic.com,DIRECT
  - DOMAIN-SUFFIX,gvt1.com,DIRECT
  - DOMAIN-SUFFIX,ggpht.com,DIRECT
  - DOMAIN-SUFFIX,dl.google.com,DIRECT
  - DOMAIN-SUFFIX,dl-ssl.google.com,DIRECT
  - DOMAIN-SUFFIX,android.clients.google.com,DIRECT
  - DOMAIN-SUFFIX,gvt2.com,DIRECT
  - DOMAIN-SUFFIX,gvt3.com,DIRECT
  - DOMAIN-SUFFIX,anydesk.com,DIRECT
  - DOMAIN-SUFFIX,anydesk.net,DIRECT
  - DOMAIN-SUFFIX,log.anydesk.com,DIRECT
  - DOMAIN-SUFFIX,relay.anydesk.com,DIRECT

  - RULE-SET,lockdirect,DIRECT
  - RULE-SET,lock,VlessServers
  - RULE-SET,localdirect,DIRECT
  - RULE-SET,local,VlessServers
  - RULE-SET,github,VlessServers
  - RULE-SET,telegram,VlessServers
  - RULE-SET,microsoft,VlessServers
  - RULE-SET,whatsapp,VlessServers
  - RULE-SET,cloudflare,VlessServers
  - RULE-SET,gemini,VlessServers
  - RULE-SET,openai,VlessServers
  - RULE-SET,youtube,VlessServers
  - RULE-SET,twitter,VlessServers
  - RULE-SET,instagram,VlessServers
  - RULE-SET,facebook,VlessServers
  - RULE-SET,discord-domain,VlessServers
  - RULE-SET,discord-ip,VlessServers
  - RULE-SET,notion,VlessServers
  - DOMAIN-KEYWORD,4pda,VlessServers
  - IP-CIDR,2.56.178.172/32,VlessServers
  - IP-CIDR,5.252.176.150/32,VlessServers
  - IP-CIDR,31.131.253.250/32,VlessServers
  - IP-CIDR,35.186.227.140/32,VlessServers
  - IP-CIDR,85.192.30.120/32,VlessServers
  - IP-CIDR,104.22.34.226/32,VlessServers
  - IP-CIDR,108.181.60.131/32,VlessServers
  - IP-CIDR,185.236.234.42/32,VlessServers
  - IP-CIDR,188.114.98.228/32,VlessServers
  - RULE-SET,ru-blocked,VlessServers
  - MATCH,DIRECT
